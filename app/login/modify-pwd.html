<div class="container">
    <h3 class="text-center login-title">第一次登入</h3>
    <div class="login-form" ng-controller = "modifyPWDCtrl as ctrl">
        <form name="pwdForm" autocomplete="off" ng-submit="ctrl.submit()">
            <div class="form-group">
                <span>修改密碼？或是不修改，</span>
                <a ui-sref="main.cahome">按此直接登入</a>
            </div>
            <div class="alert alert-danger alert-sm" ng-hide="ctrl.returnmsg.length === 0">
                <span ng-bind="ctrl.returnmsg"></span>
            </div>                                  
            <div class="form-group left-addon">
                <span class="glyphicon glyphicon-lock"></span>
                <input type="password" class="form-control" 
                    placeholder="輸入舊密碼" autocomplete="off" ng-model="ctrl.pwdData.oldkey" name="oldkey" required/>
                <p ng-show="pwdForm.oldkey.$error.required && !pwdForm.oldkey.$pristine" class="field-error">舊密碼為必填</p> 
            </div>
            <div class="form-group left-addon">
                <span class="glyphicon glyphicon-lock"></span>
                <input type="password" class="form-control" 
                    placeholder="輸入新密碼" autocomplete="off" ng-model="ctrl.pwdData.newkey" name="newkey" ng-pattern="/^(?=.*\d)(?=.*[a-zA-Z]).{8,12}$/" required/>
                <p ng-show="pwdForm.newkey.$error.required && !pwdForm.newkey.$pristine" class="field-error">新密碼為必填</p>
                <p ng-show="pwdForm.newkey.$error.pattern && !pwdForm.newkey.$pristine" class="field-error">請輸入英數混合，長度在8~12的字元</p>                
            </div>
            <div class="form-group left-addon">
                <span class="glyphicon glyphicon-lock"></span>
                <input type="password" class="form-control" 
                    placeholder="確認新密碼" autocomplete="off" 
                    ng-model="ctrl.pwdData.renewkey" 
                    name="renewkey"
                    ng-disabled="pwdForm.newkey.$invalid" 
                    match="ctrl.pwdData.newkey" 
                    required/>
                <p ng-show="pwdForm.renewkey.$error.required && !pwdForm.renewkey.$pristine" class="field-error">確認新密碼為必填</p>
                <p ng-show="pwdForm.renewkey.$error.match && !pwdForm.renewkey.$pristine" class="field-error">輸入的確認密碼不一致</p> 
            </div>                        
            <button type="submit" class="btn btn-default btn-block login-submit" ng-disabled="pwdForm.$invalid">
                確定修改
            </button>
        </form>
    </div>
</div>